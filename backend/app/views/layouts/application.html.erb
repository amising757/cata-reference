<!DOCTYPE html>
<html>
  <head>
    <title>üèÄ Cata-Reference</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>
    <div class="container">
      <!-- Header -->
      <div class="basketball-header">
        <div style="font-size: 24px; font-weight: bold;">
          <%= link_to root_path, style: "color: white; text-decoration: none;" do %>
            üèÄ CATA-REFERENCE
          <% end %>
        </div>
        
        <div data-controller="search" style="position: relative;">
          <input
            type="text"
            data-search-target="input"
            data-action="input->search#search"
            placeholder="Search for player..."
            class="search-bar"
            style="background: white; padding: 8px 15px; border-radius: 5px; border: none; width: 300px; font-size: 16px;"
          />
          
          <div 
            data-search-target="results"
            style="position: absolute; top: 100%; left: 0; right: 0; margin-top: 4px; background: white; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 50; max-height: 256px; overflow-y: auto; display: none;"
          >
            <!-- Search results populated by Stimulus -->
          </div>
        </div>
      </div>

      <!-- Navigation -->
      <div class="basketball-nav">
        <%= link_to players_path, class: current_page?(players_path) ? "active" : "" do %>
          Players
        <% end %>
        <%= link_to awards_path, class: current_page?(awards_path) ? "active" : "" do %>
          Awards
        <% end %>
        <%= link_to about_path, class: current_page?(about_path) ? "active" : "" do %>
          About
        <% end %>
      </div>

      <!-- Main content -->
      <main>
        <%= yield %>
      </main>
    </div>
  </body>
</html>